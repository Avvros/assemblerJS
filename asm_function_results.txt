Здесь описаны объекты, которые могут вернуть те или иные функции.

function get_command:
	При любых условиях возвращаемый объект содержит поле type.
	
	type:
		'err'
			value - string
		
		'reg'
			size: 8, 16 or 32
			value: 0 - 7
			mod: '11' // понадобится, если 2 операнд или есть imm как операнд
			r_m: '000' - '111' // код регистра
			
		'mem'
			size: 8, 32 or 'depends on other'
		
			adrr: 'reg', 'disponly' or 'reg+disp'
				'reg'
					mod: '00'
					r_m: '000' - '111' \ '101' // код регистра
					
				'disponly'
					dsize: 32
					dval: const signed number
					mod: '00'
					r_m: '101' // 32-bit Displacement mode
					
				'reg+disp'
					dsize: 8 or 32
					dval: const signed number // displacement
					mod: '01' or '10' // зависит от размера смещения
					r_m: '000' - '111' // код регистра
					
		'imm'
			size: 8, 16 or 32
			value: const signed number
			
p.s причина, по которой нельзя отказаться от type - типы err и imm
			

function asm:
	Функция asm должна возвращать объект:

	{address, err, codes, cmd_text}, где

		address - вернуть тот самый адрес, что ей дали;

		err - текстом сообщение об ошибке, наличие ошибки будет проверяться if(err);

		codes - массив байт - кодов команды процессора;

		cmd_text - канонический вид команды, в крайнем случае можно вернуть то, что дали, 
		в идеале должно быть то, чтобы вернул дизассемблер, если бы получил коды команд.